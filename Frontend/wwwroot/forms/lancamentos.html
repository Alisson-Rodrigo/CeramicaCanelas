<div class="container">
    <h2 class="form-title">Novo Lan√ßamento Financeiro</h2>
    <div class="form-container">
        <div class="form-group" id="type-selection-group">
            <label class="form-label">Qual o tipo de lan√ßamento?</label>
            <div class="type-selection">
                <input type="radio" id="typeIncome" name="Type" value="1">
                <label for="typeIncome" class="type-button">Entrada</label>
                <input type="radio" id="typeExpense" name="Type" value="2">
                <label for="typeExpense" class="type-button">Sa√≠da</label>
            </div>
        </div>

        <form id="launchForm" style="display: none;" autocomplete="off">
            <div class="form-group">
                <label class="form-label" for="description">Descri√ß√£o</label>
                <textarea id="description" name="Description" class="form-input" rows="3" required></textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="amount">Valor (R$)</label>
                    <input type="number" id="amount" name="Amount" class="form-input" placeholder="0,00" step="0.01" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="launchDate">Data do Lan√ßamento</label>
                    <input type="date" id="launchDate" name="LaunchDate" class="form-input" required>
                </div>
            </div>

            <div class="form-group" id="group-categoryId" style="display: none;">
                <label class="form-label">Categoria</label>
                <div class="selection-box">
                    <span id="selectedCategoryName">Nenhuma categoria selecionada</span>
                    <button type="button" id="openCategoryModalBtn" class="search-btn">Buscar Categoria...</button>
                </div>
                <input type="hidden" id="categoryId" name="CategoryId">
            </div>

            <div class="form-group" id="group-customerId" style="display: none;">
                <label class="form-label">Cliente (Opcional)</label>
                <div class="selection-box">
                    <span id="selectedCustomerName">Nenhum cliente selecionado</span>
                    <button type="button" id="openCustomerModalBtn" class="search-btn">Buscar Cliente...</button>
                </div>
                <input type="hidden" id="customerId" name="CustomerId">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="paymentMethod">M√©todo de Pagamento</label>
                    <select id="paymentMethod" name="PaymentMethod" class="form-input" required></select>
                </div>
                <div class="form-group">
                    <label class="form-label" for="status">Status</label>
                    <select id="status" name="Status" class="form-input" required></select>
                </div>
            </div>

            <div class="form-group" id="group-dueDate" style="display: none;">
                <label class="form-label" for="dueDate">Data de Vencimento (Opcional)</label>
                <input type="date" id="dueDate" name="DueDate" class="form-input">
            </div>

            <div class="form-group">
                <label class="form-label" for="imageProofs">Comprovantes (Opcional)</label>
                <input type="file" id="imageProofs" class="form-input" accept="image/*">
                <div id="image-previews-container" class="image-previews-container"></div>
            </div>

            <button type="submit" class="submit-btn">Salvar Lan√ßamento</button>
        </form>
    </div>

    <hr class="section-divider">
    <h2>Lan√ßamentos Registrados</h2>

    <div class="filter-bar">
        <div class="filter-group large">
            <label for="historySearch">Busca por Descri√ß√£o:</label>
            <input type="text" id="historySearch" class="form-input">
        </div>
        <div class="filter-group">
            <label for="historyType">Tipo:</label>
            <select id="historyType" class="form-input"></select>
        </div>
        <div class="filter-group">
            <label for="historyStatus">Status:</label>
            <select id="historyStatus" class="form-input"></select>
        </div>
        <div class="filter-group">
            <label for="historyStartDate">Data Inicial:</label>
            <input type="date" id="historyStartDate" class="form-input">
        </div>
        <div class="filter-group">
            <label for="historyEndDate">Data Final:</label>
            <input type="date" id="historyEndDate" class="form-input">
        </div>
        <div class="filter-group-buttons">
            <button type="button" id="historyFilterBtn" class="search-btn">Filtrar</button>
            <button type="button" id="historyClearBtn" class="btn-cancel">Limpar</button>
        </div>
    </div>

    <div class="table-container">
        <table class="results-table">
            <thead>
                <tr>
                    <th>Tipo</th>
                    <th>Descri√ß√£o</th>
                    <th>Valor</th>
                    <th>Data Lan√ß.</th>
                    <th>Categoria</th>
                    <th>Cliente</th>
                    <th>M√©todo Pag.</th>
                    <th>Status</th>
                    <th>Operador</th>
                    <th>Comprovantes</th>
                    <th>Data Venc.</th>
                    <th>A√ß√µes</th>
                </tr>
            </thead>
            <tbody id="launch-history-body"></tbody>
        </table>
    </div>

    <div id="pagination-controls" class="pagination-controls"></div>

    <!-- üî• HIST√ìRICO DO DIA AGORA DENTRO DO CONTAINER -->
    <hr class="section-divider">

    <h2>Hist√≥rico do Dia</h2>

    <div class="filter-bar">
        <div class="filter-group">
            <label for="dailyStartDate">Data Inicial:</label>
            <input type="date" id="dailyStartDate" class="form-input">
        </div>
        <div class="filter-group">
            <label for="dailyEndDate">Data Final:</label>
            <input type="date" id="dailyEndDate" class="form-input">
        </div>

        <div class="filter-group">
            <label for="dailyType">Tipo:</label>
            <select id="dailyType" class="form-input">
                <option value="">Todos</option>
                <option value="1">Entrada</option>
                <option value="2">Sa√≠da</option>
            </select>
        </div>

        <div class="filter-group-buttons">
            <button type="button" id="dailyFilterBtn" class="search-btn">Filtrar</button>
            <button type="button" id="dailyClearBtn" class="btn-cancel">Limpar</button>
        </div>
    </div>

    <div class="table-container">
        <table class="results-table">
            <thead>
                <tr>
                    <th>Tipo</th>
                    <th>Descri√ß√£o</th>
                    <th>Valor</th>
                    <th>Data Lan√ß.</th>
                    <th>Categoria</th>
                    <th>Cliente</th>
                    <th>M√©todo Pag.</th>
                    <th>Status da Altera√ß√£o</th>
                </tr>
            </thead>
            <tbody id="daily-history-body"></tbody>
        </table>
    </div>

    <div id="daily-history-pagination" class="pagination-controls"></div>


</div> <!-- container -->
<!-- Modal de Busca de Categorias -->
<div id="categorySearchModal" class="modal">
    <div class="modal-content">
        <span class="modal-close-btn">&times;</span>
        <h3>Buscar Categoria</h3>

        <div class="modal-filters">
            <div class="modal-filter-group">
                <label for="modalCategorySearchInput">Nome da categoria</label>
                <input type="text" id="modalCategorySearchInput" placeholder="Digite parte do nome">
            </div>
            <button type="button" id="modalCategoryFilterBtn" class="modal-search-btn">
                Buscar
            </button>
        </div>

        <div id="modalCategoryResultsContainer"></div>

        <div id="modalCategoryPaginationControls" class="pagination-controls"></div>
    </div>
</div>

<!-- Modal de Busca de Clientes -->
<div id="customerSearchModal" class="modal">
    <div class="modal-content">
        <span class="modal-close-btn">&times;</span>
        <h3>Buscar Cliente</h3>

        <div class="modal-filters">
            <div class="modal-filter-group">
                <label for="modalCustomerSearchInput">Nome / Documento</label>
                <input type="text"
                       id="modalCustomerSearchInput"
                       placeholder="Digite o nome ou documento do cliente">
            </div>

            <button type="button"
                    id="modalCustomerFilterBtn"
                    class="modal-search-btn">
                Buscar
            </button>
        </div>

        <!-- Aqui a tabela de clientes √© renderizada via JS -->
        <div id="modalCustomerResultsContainer"></div>

        <!-- Pagina√ß√£o da modal -->
        <div id="modalCustomerPaginationControls" class="pagination-controls"></div>
    </div>
</div>


